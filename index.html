<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>‚ú® Fabian</title>

<!-- Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#f7f7fb;
  --bg2:#f1f6ff;
  --card:#ffffff;
  --text:#1f2937;
  --muted:#64748b;
  --accent:#f472b6;
  --accent2:#60a5fa;
  --accent3:#34d399;
  --shadow: 0 14px 40px rgba(20, 23, 42, 0.12);
  --shadow2: 0 8px 24px rgba(20, 23, 42, 0.08);
  --radius: 18px;
}

html,body{
  margin:0;
  font-family:'Inter', system-ui, sans-serif;
  color:var(--text);
  background: linear-gradient(180deg, var(--bg1), var(--bg2));
  min-height:100vh;
}

*{ box-sizing:border-box; }

/* ================= NAVBAR ================= */
.navbar{
  position:sticky;
  top:0;
  width:100%;
  height:70px;
  background:rgba(255,255,255,0.85);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(15, 23, 42, 0.06);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  z-index:50;
}

.nav-left{
  display:flex;
  align-items:center;
  gap:12px;
}

.nav-title{
  font-size:20px;
  font-weight:700;
  letter-spacing:0.3px;
}

.nav-title span{
  color:var(--accent);
}

.nav-links{
  list-style:none;
  display:flex;
  gap:14px;
  margin:0;
  padding:0;
  align-items:center;
}

.nav-links a{
  color:var(--muted);
  text-decoration:none;
  padding:8px 10px;
  border-radius:12px;
  font-weight:500;
  transition:.2s;
}

.nav-links a:hover{
  color:var(--text);
  background:rgba(244, 114, 182, 0.12);
}

.nav-links a.active{
  color:var(--text);
  background:rgba(96, 165, 250, 0.18);
}

.search-box{
  margin-left:auto;
}

.search-box input{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(15, 23, 42, 0.12);
  background:#fff;
  color:var(--text);
  outline:none;
  width:220px;
}

@media (max-width: 900px){
  .nav-links{ display:none; }
  .search-box{ display:none; }
}

.mobile-menu{
  display:none;
  gap:10px;
  align-items:center;
}

.mobile-menu button{
  background:transparent;
  border:none;
  font-size:22px;
  cursor:pointer;
}

@media (max-width: 900px){
  .mobile-menu{ display:flex; }
}

/* ================= MAIN ================= */
main{
  margin-top:18px;
  padding: 18px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}

/* ================= CARDS ================= */
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
  width: min(980px, 100%);
  margin: 16px 0;
}

.card h1{
  margin:0 0 10px 0;
  font-size:28px;
  letter-spacing:0.2px;
}

.card p{
  margin:0;
  color:var(--muted);
  line-height:1.5;
}

/* ================= HOME ================= */
.circle{
  margin:20px auto;
  width:280px;
  height:280px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg, #ffffff, #fef1f8);
  box-shadow: 0 20px 60px rgba(244, 114, 182, 0.22);
}

.middle{
  font-size:140px;
  animation:spin 3.5s linear infinite;
}

@keyframes spin{
  to{transform:rotate(360deg)}
}

/* ================= GAME ================= */
#game{
  margin-top:20px;
}

#difficulty{
  margin-top:10px;
  padding:8px 12px;
  border-radius:12px;
  background:#fff;
  color:var(--text);
  border:1px solid rgba(15, 23, 42, 0.12);
}

.board{
  display:grid;
  grid-template-columns:repeat(3, 100px);
  gap:10px;
  justify-content:center;
  margin-top:20px;
}

.cell{
  width:100px;
  height:100px;
  background:#fff;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  cursor:pointer;
  border:1px solid rgba(15, 23, 42, 0.12);
  box-shadow:var(--shadow2);
  transition:.15s;
}

.cell:hover{
  transform: translateY(-2px);
  box-shadow: 0 16px 30px rgba(20, 23, 42, 0.18);
}

.result{
  font-size:100px;
  margin-top:20px;
}

button{
  margin-top:10px;
  padding:10px 14px;
  background:linear-gradient(135deg, var(--accent), var(--accent2));
  border:none;
  color:#fff;
  border-radius:14px;
  cursor:pointer;
  box-shadow: 0 14px 28px rgba(244, 114, 182, 0.28);
  transition:.2s;
}

button:hover{
  transform: translateY(-2px);
}

/* ================= CONTACT ================= */
#contactForm{
  display:none;
  width:100%;
  max-width:420px;
  margin:40px auto;
  text-align:left;
}

#contactForm h1{
  text-align:center;
}

#contactForm input,
#contactForm textarea{
  width:100%;
  padding:10px;
  margin-top:8px;
  background:#fff;
  color:var(--text);
  border:none;
  border-radius:14px;
  box-shadow:var(--shadow2);
  box-sizing:border-box;
}

#contactForm button{
  width:100%;
}

/* ================= FABSE ================= */
.fabse-container{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:20px;
  margin-top:40px;
}

.fabse-emoji{
  font-size:120px;
  animation:wave 1.5s infinite;
}

.speech{
  background:#fff;
  padding:18px 22px;
  border-radius:20px;
  text-align:center;
  box-shadow:var(--shadow);
  max-width:520px;
}

@keyframes wave{
  0%{transform:rotate(0)}
  25%{transform:rotate(14deg)}
  50%{transform:rotate(-10deg)}
  75%{transform:rotate(14deg)}
  100%{transform:rotate(0)}
}

/* ================= SHOP ================= */
#shop{
  display:none;
}

.shop-grid{
  display:flex;
  flex-direction:column;
  gap:20px;
  margin-top:20px;
}

.auction-card{
  background:#fff;
  border-radius:22px;
  padding:22px;
  box-shadow:var(--shadow);
  max-width:520px;
  margin:0 auto;
  text-align:left;
}

.auction-card img{
  width:100%;
  border-radius:16px;
  margin-bottom:16px;
  object-fit:cover;
}

.auction-card h2{
  margin:10px 0 6px 0;
  font-size:22px;
}

.auction-info{
  color:var(--muted);
  font-size:14px;
  margin-bottom:14px;
}

.price{
  font-size:18px;
  margin-bottom:14px;
}

.price span{
  color:var(--accent);
  font-weight:700;
}

.bid-row{
  display:flex;
  gap:10px;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
}

.bid-row input{
  width:120px;
  padding:10px;
  border-radius:14px;
  border:1px solid rgba(15, 23, 42, 0.12);
  background:#fff;
  color:var(--text);
}

.faq-item{
  background:#fff;
  border-radius:18px;
  padding:14px;
  margin:12px auto;
  max-width:520px;
  text-align:left;
  box-shadow:var(--shadow2);
}

.faq-question{
  display:flex;
  justify-content:space-between;
  cursor:pointer;
  font-weight:600;
}

.faq-answer{
  display:none;
  margin-top:10px;
  color:var(--muted);
}

.faq-icon{
  font-weight:700;
}

/* ================= SNAKE ================= */
#snake{
  display:none;
  margin-top:20px;
}

#snakeCanvas{
  background:#fff;
  border-radius:22px;
  box-shadow: 0 20px 60px rgba(96, 165, 250, 0.28);
  border: 1px solid rgba(96, 165, 250, 0.35);
}

#snakeScore{
  margin-top:14px;
  font-size:16px;
}

/* ================= PONG ================= */
#pong{
  display:none;
  margin-top:20px;
}

#pongCanvas{
  background:#fff;
  border-radius:22px;
  box-shadow: 0 20px 60px rgba(244, 114, 182, 0.28);
  border: 1px solid rgba(244, 114, 182, 0.35);
}

.pong-score{
  margin-top:14px;
  font-size:16px;
}

.pong-controls{
  display:flex;
  gap:12px;
  justify-content:center;
  margin-top:10px;
}

/* ================= TEST ================= */
#test img{
  max-width:100%;
  border-radius:12px;
  margin-top:20px;
}

/* ================= WORTSPIEL ================= */
#wortspiel input{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(15, 23, 42, 0.12);
  background:#fff;
  color:var(--text);
  outline:none;
}

#wortspiel button{
  padding:10px 14px;
  background:linear-gradient(135deg, var(--accent3), var(--accent2));
  border:none;
  color:#fff;
  border-radius:14px;
  cursor:pointer;
  box-shadow: 0 14px 28px rgba(52, 211, 153, 0.25);
}

#wortspiel #reimErgebnis{
  margin-top:20px;
  font-size:20px;
}

/* ================= RESPONSIVE ================= */
@media (max-width: 520px){
  .board{ grid-template-columns:repeat(3, 84px); }
  .cell{ width:84px; height:84px; font-size:42px; }
  .circle{ width:230px; height:230px; }
  .search-box input{ width: 160px; }
  .auction-card{ padding:18px; }
  .bid-row{ flex-direction:column; align-items:stretch; }
  .bid-row input{ width:100%; }
}
</style>
</head>

<body>

<nav class="navbar">
  <div class="nav-left">
    <div class="nav-title"><span>‚ú®</span> Fabian</div>
  </div>

  <ul class="nav-links">
    <li><a href="#" onclick="show('home')" class="active">Home</a></li>
    <li><a href="#" onclick="show('spielBibliothek')">Spiel</a></li>
    <li><a href="#" onclick="show('fabse')">Fabse</a></li>
    <li><a href="#" onclick="show('Mitarbeiter')">Mitarbeiter</a></li>
    <li><a href="#" onclick="show('wortspiel')">Wortspiel</a></li>
    <li><a href="#" onclick="show('shop')">Shop</a></li>
    <li><a href="#" onclick="show('faq')">FAQ</a></li>
    <li><a href="#" onclick="show('contactForm')">Contact</a></li>
  </ul>

  <div class="search-box">
    <input id="search" placeholder="Seite durchsuchen‚Ä¶" oninput="searchPage()">
  </div>

  <div class="mobile-menu">
    <button onclick="toggleMobileMenu()">‚ò∞</button>
  </div>
</nav>

<main>

<!-- HOME -->
<section id="home">
  <div class="card">
    <h1>Fabian</h1>
    <p>Willkommen auf meiner modernen Seite ‚Äì hell, clean und mobil optimiert.</p>
    <div class="circle">
      <div class="middle">üñï</div>
    </div>
  </div>
</section>

<!-- SPIEL BIBLIOTHEK -->
<section id="spielBibliothek">
  <div class="card">
    <h1>Herzlich Willkommen in meiner Spiele Bibliothek</h1>
    <p>W√§hle ein Spiel aus:</p>

    <div class="auction-card" style="max-width:520px; margin-top:18px;">
      <h2>Tic Tac Toe</h2>
      <p class="auction-info">Klicke auf ‚ÄûStart‚Äú, um Tic Tac Toe zu spielen.</p>
      <button onclick="show('game')">Tic Tac Toe starten</button>
    </div>

    <div class="auction-card" style="max-width:520px; margin-top:18px;">
      <h2>Snake</h2>
      <p class="auction-info">Klassisches Snake-Spiel mit Highscore.</p>
      <button onclick="show('snake')">Snake starten</button>
    </div>

    <div class="auction-card" style="max-width:520px; margin-top:18px;">
      <h2>Pong</h2>
      <p class="auction-info">Pong mit Pfeiltasten (hoch/runter).</p>
      <button onclick="show('pong')">Pong starten</button>
    </div>
  </div>
</section>

<!-- TIC TAC TOE -->
<section id="game">
  <div class="card">
    <h1>Tic Tac Toe</h1>

    <select id="difficulty">
      <option value="easy">Leicht</option>
      <option value="medium">Mittel</option>
      <option value="hard">Schwer</option>
    </select>

    <div class="board">
      <div class="cell" onclick="move(0)"></div>
      <div class="cell" onclick="move(1)"></div>
      <div class="cell" onclick="move(2)"></div>
      <div class="cell" onclick="move(3)"></div>
      <div class="cell" onclick="move(4)"></div>
      <div class="cell" onclick="move(5)"></div>
      <div class="cell" onclick="move(6)"></div>
      <div class="cell" onclick="move(7)"></div>
      <div class="cell" onclick="move(8)"></div>
    </div>

    <div class="result" id="result"></div>
    <div>
      üëç <span id="wins">0</span> |
      üñï <span id="losses">0</span> |
      üòê <span id="draws">0</span>
    </div>
    <button onclick="resetGame()">Neues Spiel</button>
  </div>
</section>

<!-- SNAKE -->
<section id="snake">
  <div class="card">
    <h1>Snake</h1>
    <canvas id="snakeCanvas" width="360" height="360"></canvas>
    <div id="snakeScore">
      Score: <span id="scoreValue">0</span> |
      Highscore: <span id="highscoreValue">0</span>
    </div>
    <div class="pong-controls">
      <button onclick="startSnake()">Start</button>
      <button onclick="restartSnake()">Neustart</button>
    </div>
  </div>
</section>

<!-- PONG -->
<section id="pong">
  <div class="card">
    <h1>Pong</h1>
    <canvas id="pongCanvas" width="480" height="320"></canvas>
    <div class="pong-score">
      Player: <span id="p1Score">0</span> |
      CPU: <span id="p2Score">0</span>
    </div>
    <div class="pong-controls">
      <button onclick="startPong()">Start</button>
      <button onclick="resetPong()">Neustart</button>
    </div>
    <p style="margin-top:12px;">Steuerung: Pfeiltasten ‚Üë ‚Üì</p>
  </div>
</section>

<!-- FABSE -->
<section id="fabse">
  <div class="card">
    <div class="fabse-container">
      <div class="fabse-emoji">üëãüôÇ</div>
      <div class="speech">Hallo ich bin Fabse</div>
    </div>
  </div>
</section>

<!-- MITARBEITER -->
<section id="Mitarbeiter">
  <div class="card">
    <h1>Fabse Raps√∂l</h1>
    <div>
      <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExdzBnY3JhNGVkbG5vOTRiaGpyMWtxdmlqMWtsbGswMHJ5MGU5Y2JyNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/JIX9t2j0ZTN9S/giphy.gif" alt="Test GIF" />
    </div>
  </div>
</section>

<!-- WORTSPIEL -->
<section id="wortspiel">
  <div class="card">
    <h1>Wortspiel</h1>
    <div style="display:flex; gap:10px; justify-content:center; margin-top:20px;">
      <input type="text" id="wortInput" value="Fabian ...">
      <button onclick="reimName()">Namen reimen</button>
    </div>
    <div id="reimErgebnis"></div>
  </div>
</section>

<!-- SHOP -->
<section id="shop">
  <div class="card">
    <h1>üõí Auktion</h1>

    <div class="shop-grid">
      <!-- Auktion 1 -->
      <div class="auction-card">
        <img src="Medien_Auktion.jpg" alt="Apple Watch & AirPods">
        <h2>Apple Watch & AirPods</h2>
        <p class="auction-info">
          Auktion aufgrund einer Investition: Der F√ºhrerschein Klasse B ist zu teuer ‚Äì deshalb muss ich auf Apple Watch und AirPods verzichten.
        </p>

        <div class="price" id="price1">Aktuelles Gebot: 67,69‚Ç¨</div>
        <div id="countdown1"></div>

        <div class="bid-row">
          <input type="number" step="0.01" id="bid1" placeholder="Gebot">
          <button onclick="placeBid(1)">Bieten</button>
        </div>
        <div id="bidInfo1"></div>
      </div>

      <!-- Auktion 2 -->
      <div class="auction-card">
        <img src="Medien_Auktion_1.jpg" alt="Portmonie">
        <h2>Portmonie</h2>
        <p class="auction-info">
          Portmonie in gutem Zustand. Perfekt als Ersatz oder Geschenk.
        </p>

        <div class="price" id="price2">Aktuelles Gebot: 12,99‚Ç¨</div>
        <div id="countdown2"></div>

        <div class="bid-row">
          <input type="number" step="0.01" id="bid2" placeholder="Gebot">
          <button onclick="placeBid(2)">Bieten</button>
        </div>
        <div id="bidInfo2"></div>
      </div>

      <!-- Auktion 3 -->
      <div class="auction-card">
        <img src="Medien_Auktion_2.jpg" alt="Schl√ºssel Bund">
        <h2>Schl√ºssel Bund</h2>
        <p class="auction-info">
          Schl√ºsselbund mit 2 Schl√ºsseln und Karabiner ‚Äì robust und praktisch.
        </p>

        <div class="price" id="price3">Aktuelles Gebot: 20,99‚Ç¨</div>
        <div id="countdown3"></div>

        <div class="bid-row">
          <input type="number" step="0.01" id="bid3" placeholder="Gebot">
          <button onclick="placeBid(3)">Bieten</button>
        </div>
        <div id="bidInfo3"></div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq">
  <div class="card">
    <h1>FAQ</h1>

    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Warum verkaufst du Handy und AirPods?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        Der F√ºhrerschein Klasse B ist teuer, deshalb trenne ich mich von Handy und AirPods, um das zu finanzieren.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Wie lange l√§uft die Auktion?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        Die Auktion endet am 30.01.2026 um 10:00 Uhr.
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Wie kann ich bieten?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        Gib ein Gebot ein und klicke auf ‚ÄûBieten‚Äú. Der Preis muss h√∂her als das aktuelle Gebot sein.
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contactForm">
  <div class="card">
    <h1>Kontakt</h1>
    <form onsubmit="sendMail(event)">
      <label for="name">Name:</label>
      <input type="text" id="name" required>
      <label for="email">E-Mail:</label>
      <input type="email" id="email" required>
      <label for="message">Nachricht:</label>
      <textarea id="message" rows="5" required></textarea>
      <button type="submit">Senden</button>
    </form>

    <div id="contactInfo">
      <strong>Kontakt Daten:</strong><br>
      Name: Fabian<br>
      Nachname: Strickmann<br>
      E-Mail: fabian@joy-ist-geil.de<br>
      Ort: Bett von Joy
    </div>
  </div>
</section>

</main>

<script>
let board=["","","","","","","","",""];
let over=false;
let wins=0, losses=0, draws=0;

function show(id){
  document.querySelectorAll("section").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";

  // active link
  document.querySelectorAll(".nav-links a").forEach(a => a.classList.remove("active"));
  const link = Array.from(document.querySelectorAll(".nav-links a")).find(a => a.textContent.toLowerCase() === id.toLowerCase() || a.textContent.toLowerCase().includes(id.toLowerCase()));
  if(link) link.classList.add("active");
}

function searchPage(){
  let q=document.getElementById("search").value.toLowerCase();
  if(q.includes("spiel")) show('spielBibliothek');
  else if(q.includes("tic") || q.includes("tac") || q.includes("toe")) show('game');
  else if(q.includes("snake")) show('snake');
  else if(q.includes("pong")) show('pong');
  else if(q.includes("fabse")) show('fabse');
  else if(q.includes("mitarbeiter")) show('Mitarbeiter');
  else if(q.includes("wort")) show('wortspiel');
  else if(q.includes("shop") || q.includes("auktion")) show('shop');
  else if(q.includes("faq")) show('faq');
  else if(q.includes("kontakt")) show('contactForm');
  else show('home');
}

// ===== Mobile Menu =====
function toggleMobileMenu(){
  const menu = document.querySelector(".nav-links");
  menu.style.display = menu.style.display === "flex" ? "none" : "flex";
  menu.style.flexDirection = "column";
  menu.style.position = "absolute";
  menu.style.top = "70px";
  menu.style.right = "18px";
  menu.style.background = "rgba(255,255,255,0.95)";
  menu.style.borderRadius = "16px";
  menu.style.boxShadow = "0 18px 40px rgba(20, 23, 42, 0.18)";
  menu.style.padding = "10px";
}

// ===== Tic Tac Toe =====
function move(i){
  if(board[i]||over) return;
  board[i]="X";
  cells()[i].textContent="X";
  if(win("X")) return end("üëç");
  if(full()) return end("üòê");
  setTimeout(cpu,300);
}

function cpu(){
  let d=document.getElementById("difficulty").value;
  let m;
  if(d==="easy") m=random();
  if(d==="medium") m=medium();
  if(d==="hard") m=minimax();
  board[m]="O";
  cells()[m].textContent="O";
  if(win("O")) end("üñï");
  else if(full()) end("üòê");
}

function end(e){
  over=true;
  document.getElementById("result").textContent=e;
  if(e==="üëç") wins++;
  if(e==="üñï") losses++;
  if(e==="üòê") draws++;
  document.getElementById("wins").textContent=wins;
  document.getElementById("losses").textContent=losses;
  document.getElementById("draws").textContent=draws;
}

function resetGame(){
  board=["","","","","","","","",""];
  over=false;
  cells().forEach(c=>c.textContent="");
  document.getElementById("result").textContent="";
}

function random(){
  let e=board.map((v,i)=>v?null:i).filter(v=>v!=null);
  return e[Math.floor(Math.random()*e.length)];
}

function medium(){
  for(let i=0;i<9;i++){
    if(!board[i]){
      board[i]="O"; if(win("O")){board[i]=""; return i;} board[i]="";
    }
  }
  for(let i=0;i<9;i++){
    if(!board[i]){
      board[i]="X"; if(win("X")){board[i]=""; return i;} board[i]="";
    }
  }
  return random();
}

function minimax(){
  let best=-1e9,m;
  for(let i=0;i<9;i++){
    if(!board[i]){
      board[i]="O";
      let s=mm(false);
      board[i]="";
      if(s>best){best=s; m=i;}
    }
  }
  return m;
}

function mm(max){
  if(win("O")) return 1;
  if(win("X")) return -1;
  if(full()) return 0;
  let best=max?-1e9:1e9;
  for(let i=0;i<9;i++){
    if(!board[i]){
      board[i]=max?"O":"X";
      best=max?Math.max(best,mm(!max)):Math.min(best,mm(!max));
      board[i]="";
    }
  }
  return best;
}

function win(p){
  return [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some(w=>w.every(i=>board[i]===p));
}

function full(){return board.every(c=>c!=="");}

function cells(){return document.querySelectorAll(".cell");}

// ===== SNAKE =====
let snakeInterval;
let snakeSpeed = 100;
let snakeCanvas = document.getElementById("snakeCanvas");
let ctx = snakeCanvas.getContext("2d");

let gridSize = 18;
let tileSize = snakeCanvas.width / gridSize;

let snake = [];
let direction = {x:1,y:0};
let food = {x:0,y:0};
let score = 0;
let running = false;

let highscore = localStorage.getItem("snakeHighscore") ? parseInt(localStorage.getItem("snakeHighscore")) : 0;
document.getElementById("highscoreValue").textContent = highscore;

function resetSnake(){
  snake = [{x:9,y:9}];
  direction = {x:1,y:0};
  score = 0;
  document.getElementById("scoreValue").textContent = score;
  placeFood();
  drawSnake();
}

function placeFood(){
  food.x = Math.floor(Math.random() * gridSize);
  food.y = Math.floor(Math.random() * gridSize);
}

function drawSnake(){
  ctx.clearRect(0,0,snakeCanvas.width,snakeCanvas.height);

  ctx.fillStyle = "#f472b6";
  ctx.fillRect(food.x*tileSize, food.y*tileSize, tileSize, tileSize);

  ctx.fillStyle = "#1f2937";
  snake.forEach(part => {
    ctx.fillRect(part.x*tileSize, part.y*tileSize, tileSize, tileSize);
  });
}

function updateSnake(){
  let head = {x: snake[0].x + direction.x, y: snake[0].y + direction.y};

  if(head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize){
    gameOverSnake();
    return;
  }

  if(snake.some(s => s.x === head.x && s.y === head.y)){
    gameOverSnake();
    return;
  }

  snake.unshift(head);

  if(head.x === food.x && head.y === food.y){
    score++;
    document.getElementById("scoreValue").textContent = score;

    if(score > highscore){
      highscore = score;
      document.getElementById("highscoreValue").textContent = highscore;
      localStorage.setItem("snakeHighscore", highscore);
    }

    placeFood();
  } else {
    snake.pop();
  }

  drawSnake();
}

function gameOverSnake(){
  clearInterval(snakeInterval);
  running = false;
  alert("Game Over! Dein Score: " + score);
}

function startSnake(){
  if(running) return;
  running = true;
  resetSnake();
  snakeInterval = setInterval(updateSnake, snakeSpeed);
}

function restartSnake(){
  clearInterval(snakeInterval);
  running = false;
  resetSnake();
}

document.addEventListener("keydown", function(e){
  if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){
    e.preventDefault();
  }
  if(!running) return;

  if(e.key === "ArrowUp" && direction.y !== 1) direction = {x:0,y:-1};
  if(e.key === "ArrowDown" && direction.y !== -1) direction = {x:0,y:1};
  if(e.key === "ArrowLeft" && direction.x !== 1) direction = {x:-1,y:0};
  if(e.key === "ArrowRight" && direction.x !== -1) direction = {x:1,y:0};
});

resetSnake();

// ===== PONG =====
let pongCanvas = document.getElementById("pongCanvas");
let pctx = pongCanvas.getContext("2d");

let paddleWidth = 10;
let paddleHeight = 80;
let ballSize = 10;

let p1Y = (pongCanvas.height - paddleHeight) / 2;
let p2Y = (pongCanvas.height - paddleHeight) / 2;

let ball = {x: pongCanvas.width/2, y: pongCanvas.height/2, vx: 3, vy: 3};

let p1Score = 0;
let p2Score = 0;

let pongInterval;
let pongRunning = false;

function drawPong(){
  pctx.clearRect(0,0,pongCanvas.width,pongCanvas.height);

  pctx.fillStyle = "#1f2937";
  pctx.fillRect(10, p1Y, paddleWidth, paddleHeight);
  pctx.fillRect(pongCanvas.width-20, p2Y, paddleWidth, paddleHeight);

  pctx.fillRect(ball.x, ball.y, ballSize, ballSize);
}

function updatePong(){
  ball.x += ball.vx;
  ball.y += ball.vy;

  if(ball.y < 0 || ball.y + ballSize > pongCanvas.height){
    ball.vy *= -1;
  }

  if(ball.x < 20 && ball.x > 10 && ball.y > p1Y && ball.y < p1Y + paddleHeight){
    ball.vx *= -1;
  }

  if(ball.x + ballSize > pongCanvas.width-20 && ball.y > p2Y && ball.y < p2Y + paddleHeight){
    ball.vx *= -1;
  }

  if(ball.x < 0){
    p2Score++;
    document.getElementById("p2Score").textContent = p2Score;
    resetBall();
  }

  if(ball.x > pongCanvas.width){
    p1Score++;
    document.getElementById("p1Score").textContent = p1Score;
    resetBall();
  }

  if(ball.y < p2Y + paddleHeight/2) p2Y -= 4;
  if(ball.y > p2Y + paddleHeight/2) p2Y += 4;

  if(p2Y < 0) p2Y = 0;
  if(p2Y + paddleHeight > pongCanvas.height) p2Y = pongCanvas.height - paddleHeight;

  drawPong();
}

function resetBall(){
  ball.x = pongCanvas.width/2;
  ball.y = pongCanvas.height/2;
  ball.vx = -ball.vx;
}

function startPong(){
  if(pongRunning) return;
  pongRunning = true;
  pongInterval = setInterval(updatePong, 16);
}

function resetPong(){
  clearInterval(pongInterval);
  pongRunning = false;
  p1Score = 0;
  p2Score = 0;
  document.getElementById("p1Score").textContent = 0;
  document.getElementById("p2Score").textContent = 0;
  ball = {x: pongCanvas.width/2, y: pongCanvas.height/2, vx: 3, vy: 3};
  p1Y = (pongCanvas.height - paddleHeight) / 2;
  p2Y = (pongCanvas.height - paddleHeight) / 2;
  drawPong();
}

document.addEventListener("keydown", function(e){
  if(e.key === "ArrowUp" && p1Y > 0) p1Y -= 12;
  if(e.key === "ArrowDown" && p1Y + paddleHeight < pongCanvas.height) p1Y += 12;
});

resetPong();

/* ================= SHOP ================= */
const auctions = {
  1: {end:"2026-01-30T10:00:00", start:67.69, bid:67.69, id:"countdown1", info:"bidInfo1", priceText:"price1"},
  2: {end:"2026-02-12T12:00:00", start:12.99, bid:12.99, id:"countdown2", info:"bidInfo2", priceText:"price2"},
  3: {end:"2026-01-28T13:00:00", start:20.99, bid:20.99, id:"countdown3", info:"bidInfo3", priceText:"price3"}
};

function formatGermanDate(d){
  const day = String(d.getDate()).padStart(2,"0");
  const month = String(d.getMonth()+1).padStart(2,"0");
  const year = d.getFullYear();
  const hours = String(d.getHours()).padStart(2,"0");
  const mins = String(d.getMinutes()).padStart(2,"0");
  return `${day}.${month}.${year} ${hours}:${mins}`;
}

function updateCountdown(){
  const now = new Date();
  for(let k in auctions){
    let a = auctions[k];
    let end = new Date(a.end);
    let diff = end - now;

    if(diff <= 0){
      document.getElementById(a.id).textContent = "Auktion beendet";
      continue;
    }

    let days = Math.floor(diff / (1000*60*60*24));
    let hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    let mins = Math.floor((diff % (1000*60*60)) / (1000*60));
    let secs = Math.floor((diff % (1000*60)) / 1000);

    document.getElementById(a.id).textContent =
      `Endet: ${formatGermanDate(end)} | Noch: ${days}d ${hours}h ${mins}m ${secs}s`;
  }
}

setInterval(updateCountdown, 1000);
updateCountdown();

function placeBid(id){
  let a = auctions[id];
  let input = document.getElementById(`bid${id}`);
  let value = parseFloat(input.value);
  if(isNaN(value)) return;

  let now = new Date();
  if(new Date(a.end) - now <= 0){
    document.getElementById(a.info).textContent = "Auktion ist beendet.";
    return;
  }

  if(value <= a.bid){
    document.getElementById(a.info).textContent = `Dein Gebot muss h√∂her sein als ${a.bid.toFixed(2)}‚Ç¨`;
    return;
  }

  a.bid = value;

  document.getElementById(a.priceText).textContent = `Aktuelles Gebot: ${a.bid.toFixed(2)}‚Ç¨`;
  document.getElementById(a.info).textContent = `Neues H√∂chstgebot: ${a.bid.toFixed(2)}‚Ç¨`;

  input.value = "";
}

/* ================= FAQ ================= */
function toggleFAQ(el){
  const answer = el.nextElementSibling;
  const icon = el.querySelector(".faq-icon");
  if(answer.style.display === "block"){
    answer.style.display = "none";
    icon.textContent = "+";
  } else {
    answer.style.display = "block";
    icon.textContent = "‚àí";
  }
}

// ===== Contact Mail =====
function sendMail(e){
  e.preventDefault();
  let name=document.getElementById("name").value;
  let email=document.getElementById("email").value;
  let message=document.getElementById("message").value;
  let mailtoLink=`mailto:fabian@matos.de?subject=Kontakt%20von%20${encodeURIComponent(name)}&body=${encodeURIComponent("Name: "+name+"\nE-Mail: "+email+"\n\nNachricht:\n"+message)}`;
  window.location.href=mailtoLink;
}

// ===== WORTSPIEL =====
function reimName(){
  const reime = [
    "Sabian", "Ramian", "Nabian", "Lamian", "Besamian",
    "Fabse Mitasch", "Fabian mit Plan", "Fabian total dran", "Fabian der Mann"
  ];
  const zufall = reime[Math.floor(Math.random() * reime.length)];
  document.getElementById("reimErgebnis").textContent = "Fabian = " + zufall;
}
</script>

</body>
</html>
